# java-lotto

## 단어장

- 로또 티켓(LottoTicket) : 구매자가 구매한 로또
- 당첨 로또 (WinningLotto) : WinningNumbers + BonusNumber 즉, 당첨 번호와 보너스 번호를 합쳐서 이르는 말
- 구입 금액 (paidAmount) : 구매자가 지불하고자 하는 금액
- 로또 순위 (LottoRank) : 로또 티켓의 당첨 결과
- overlappedCount : 일치한 숫자의 개수
- 당첨 금액 (prizeMoney) : LottoRank 에 따라 얻는 금액

## 💵 구입 금액

### 기능

- [x] 안내문구를 출력하고 구입금액을 입력받는다.
- [x] 로또 구입금액 단위는 1000원이다.
- [x] 구입한 로또 티켓 개수를 출력한다.

### 예외

- [x] 구입금액이 1000원 단위가 아니라면 예외를 발생시킨다.
- [x] 구입금액이 숫자가 아니라면 예외를 발생시킨다.
- [x] 구입금액이 0과 같거나 작으면 예외를 발생시킨다.

## 🔢 로또 티켓

### 기능

- [x] 로또 번호는 1부터 45 사이이다.
- [x] 로또 번호의 개수는 6개이다.
- [x] 로또 번호는 중복되지 않는다.
- [x] 로또 번호는 오름차순으로 출력된다.
- [x] 로또 번호는 다음과 같은 형식을 지킨다.
  ``` [8, 21, 23, 41, 42, 43]```
- [x] 구입 금액만큼 로또 티켓을 발행한다.

## 🥇 당첨 번호

### 기능

- [x] 안내문구를 출력하고 당첨 번호를 입력받는다.
    - [x] 당첨번호를 쉼표+빈칸(, )으로 구분한다.
- [x] 당첨 번호는 1부터 45 사이이다.
- [x] 당첨 번호는 6개이다.
- [x] 당첨 번호는 중복되어서는 안된다.

### 예외

- [ ] 쉼표+빈칸(, )로 구분한 당첨 번호가 숫자가 아니라면 예외 발생시킨다.
- [x] 당첨 번호는 1부터 45 사이가 아니라면 예외를 발생시킨다.
- [x] 당첨 번호가 6개가 아니라면 예외를 발생시킨다.
- [x] 당첨 번호는 중복되면 예외를 발생시킨다.

## 🎱 보너스 볼

### 기능

- [x] 안내문구를 출력하고 보너스 볼을 입력받는다.
- [x] 보너스 볼은 1부터 45 사이이다.
- [x] 보너스 볼은 당첨 번호와 중복되어서는 안된다.

### 예외

- [x] 보너스 볼이 숫자가 아니라면 예외 발생시킨다.
- [x] 보너스 볼이 1부터 45 사이가 아니라면 예외를 발생시킨다.
- [x] 보너스 볼이 당첨번호와 중복되면 예외를 발생시킨다.

## 🎬 당첨 결과

### 기능

- [x] 당첨번호와 구입한 로또 번호를 비교하여 일치한 번호의 개수를 계산한다.
    - [x] 5개가 일치하는 경우, 보너스 볼 번호와 구입 로또 번호와 일치하는 지 확인한다.
- [x] 구입금액을 바탕으로 수익률을 계산한다.
    - [x] 소숫점 2자리까지 출력한다.
- [x] 전체 로또 티켓의 당첨 결과를 계산한다.
- [x] 다음과 같이 당첨 결과를 출력한다.
    ```
    3개 일치 (5000원)- 1개
    4개 일치 (50000원)- 0개
    5개 일치 (1500000원)- 0개
    5개 일치, 보너스 볼 일치(30000000원) - 0개
    6개 일치 (2000000000원)- 0개
    ```
- [x] 다음과 같이 수익률을 출력한다.
    ```
    총 수익률은 0.35입니다.(기준이 1이기 때문에 결과적으로 손해라는 의미임)
    ```

**의문점**

- 요구사항을 정의할때, 기능과 예외가 중복되어도 되는가? 혹은 규칙으로 분류해야 하는가?
- 로또 번호를 정렬해서 저장할까, 저장해서 출력할 때만 저장할까
- 로또 번호를 정의하는 모델이 있다면 어떨까
- 당첨번호 구분자 유효성 검사 고민하기

**리팩토링**

- [x] 당첨 결과 일급 컬렉션으로 수정

# 🚀 STEP2 리팩토링 목록

### 1. LottoRank 의 order 필드를 삭제한다.

변경하는 이유 : LottoRank 가 order 를 갖는 것은 view 에 의존하는 것이라고 생각

- ex. 현재는 5등부터 보여주고 있지만, 1등부터 보여주는 정책이 바뀔 경우 모델인 LottoRank 까지 변경이 전파

### 2.로또의 번호의 집합을 의미하는 모델을 생성한다.

변경하는 이유

- 로또의 번호인 1부터 45, 크기가 6임을 검증하는 과정이 반복
- 단순히 List 로 관리하는 것이 아닌 모델로 한겹 감싸서 도메인을 보호하기 위해

### 3. 사용자가 낸 금액을 의미하는 모델을 생성한다.

변경하는 이유 : 1000원 단위여야 한다는 일종의 규칙이 존재 / 수익률 계산에 있어 데이터 정합성이 깨지면 안됨

### 4. 프로그래밍 요구사항들을 반영한다.

- [ ] indent 를 1로 유지한다.
- [ ] 함수(또는 메소드)의 길이가 15라인을 넘어가지 않도록 구현한다.

### 5. 로또의 번호를 의미하는 모델을 생성한다.

변경하는 이유

- 2에서 수정한 로또 번호의 집합에서 숫자의 범위를 검증하는 것이 아니라 로또 번호 하나를 의미하는 모델에서 검증하기 위해
- 로또 번호 하나하나의 값을 캡슐화하기 위해
- 현재는 WinningLotto 에서 보너스 번호를 int 로 사용하고 있는데, 보너스 번호에 대한 재사용성을 확보하기 위해

