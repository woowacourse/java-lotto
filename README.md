# java-lotto
페어 : 투다,히포

# 기능 명세
- 예외 발생 시 예외 발생 시점부터 재입력 받는다.

---

## 로또 구매 기능
- [x] 로또 구매 금액을 입력받는다.
- [x] 0원이 입력되면 예외가 발생한다.
- [x] 숫자가 아닌 문자열이 입력되면 예외가 발생한다.
- [x] 1,000으로 나누어 떨어지지 않은 금액 입력 시 예외가 발생한다.
- [x] 각 로또 번호 6개는 서로 중복되지 않는다.
- [x] 로또 번호는 6개여야한다.
- [x] 사용자가 구매한 수량만큼의 랜덤 생성한다.
- [x] 사용자가 구매한 로또 내역을 출력한다.


## 당첨번호 입력
- [x] 사용자에게 당첨 번호를 입력 받는다.
- [x] 당첨번호는 ,로 구분한다.

- [x] 당첨번호가 숫자가 아니면 예외가 발생한다.
- [x] 당첨번호 6개는 서로 중복되지 않는다.
- [x] 당첨번호가 1~45내의 숫자가 아니면 예외가 발생한다.
- [x] 입력된 당첨번호가 6개가 아닐 시 예외가 발생한다.


## 보너스볼 입력
- [x] 사용자에게 보너스 번호를 입력 받는다.

- [x] 보너스 번호가 숫자가 아니면 예외가 발생한다.
- [x] 보너스 번호가 1~45내의 숫자가 아니면 예외가 발생한다.


## 당첨 통계 계산 및 출력
- [x] 구매한 로또와 당첨번호를 비교하여 로또 일치 결과를 계산한다.
- [x] 당첨 통계 및 수익률을 출력한다. 


# 리팩토링 수정 사항

> bunusNumber가 null일 때 trim()을 처리 문제
- bonusNumber Validation 밑으로 뺌으로써 null 체크 로직 거치도록 수정

> LottoNumber에 대한 단위 테스트도 추가
- LottoNumber에 대한 단위 테스트 추가

> Random 클래스를 요청 마다 매번 생성하는 문제
- 한번만 생성하도록 수정

> 당첨 번호 검증 케이스 추가

당첨 번호 검증 로직은 숫자를 6개를 입력했는지에 초점을 맞추어서 구현하였습니다.   
매트가 말씀하신것처럼 여러가지 케이스를 고려해야하나? 하는 고민을 페어와 함께 의논했었습니다.
저희는 해당 과정에서 다음의 결론을 도출하였습니다.

**기능을 수행하는데 문제가 없는 경우에는 예외처리를 굳이 하지 않아도 되지 않을까?**

이유는 다음과 같았습니다. 
- 1,2,3,4,5,6,나 그 외의 케이스의 경우 당첨 번호를 인식하기에 충분하여 핵심기능을 진행하는데 문제가 없다.
- 위 기능이 완벽한 검증이 주 기능이 아니기 때문에 이번에는 위와 같이 필요한 숫자 6개만 인식되면 통과시켜도 된다.   

위와 같은 결론에 대해서 어떻게 생각하시는지 매트의 의견이 궁금해요!

> 검증 과정에서 중복된 코드 발생하는 부분
- 이부분 시간을 핑계로 괜찮지 않을까하며 대충 넘어갔던 것 같습니다.
- 검증 부분을 더 쪼갬으로써 중복된 코드를 제거하고 그 과정에서 책임 또한 몰리지 않도록 하였습니다.

> 에러 메시지 동일로 인해 디버깅이 힘듦
- 에러 메시지를 발생한 원인과 함께 출력함으로써 해결하였습니다.

> 도메인의 포맷팅 책임 
- 도메인에서 포맷팅을 하는 부분이 있었는데 생각해보니 적합하지 않았던 것 같습니다.
- 포맷팅을 전담적으로하는 다른 객체에게 책임을 부여하여 수정하였습니다.

> enums 패키지가 필요한가?
- 생각해보니 enum을 굳이 분리할 필요는 현재 없었던 것 같습니다 따라서 enums 패키지를 삭제하였습니다.
